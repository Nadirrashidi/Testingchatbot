<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Keyword-Based Chatbot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #ffffff;
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }

    h2 {
      color: #2F4F6F;
    }

    #chatbox {
      width: 100%;
      max-width: 500px;
      height: 400px;
      border: 1px solid #2F4F6F;
      background: rgba(255, 255, 255, 0.49);
      overflow-y: auto;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px #2F4F6F;
    }

    .message {
      margin: 0.5rem 0;
      padding: 0.5rem;
      border-radius: 6px;
    }

    .user {
      background-color: #1E3A8A;
      color: #ffffff;
      align-self: flex-end;
    }

    .bot {
      background-color: #2563EB;
      color: #ffffff;
      align-self: flex-start;
    }

    #userInput {
      display: flex;
      width: 100%;
      max-width: 500px;
      gap: 0.5rem;
    }

    #input {
      flex-grow: 1;
      padding: 0.5rem;
      font-size: 1rem;
      border: 1px solid #2F4F6F;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.49);
      color: #000;
      box-shadow: 0 2px 4px #2F4F6F;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: 1px solid #2F4F6F;
      border-radius: 8px;
      background-color: #3B82F6;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #2563EB;
    }
  </style>
</head>
<body>

  <h2>Global Analyzer Chatbot</h2>
  <div id="chatbox"></div>

  <div id="userInput">
    <input type="text" id="input" placeholder="Ask something...">
    <button onclick="sendMessage()">Send</button>
    <button onclick="clearChat()">Clear</button>
  </div>

  <script>
    const chatbotData = [

    //Database analysis
      
  {
    keywords: ["total objects", "how many objects are there", "object breakdown count"],
    response: "There are 8 total objects in the Object Breakdown."
  },
  {
    keywords: ["which object is referenced the most", "most referenced object"],
    response: "CustomerData is the most referenced object with 6 references."
  },

{
    keywords: ["Number of Customerdata refrenced", "Customerdata refrenced","customerdata refrenced","total customerdata refrenced","total Customerdata refrenced"],
    response: "CustomerData is 6."
  },

{
    keywords: ["Number of Employeedata refrenced", "Employeedata refrenced","employeedata refrenced","total employeedata refrenced","total employeedata refrenced"],
    response: "Employeedata is 5."
  },
{
    keywords: ["Number of profitchart refrenced", "Profitchart refrenced","profitchart refrenced","total profitchart refrenced","total profitchart refrenced"],
    response: "profitchart is 5."
  },

{
    keywords: ["Number of Inventorydata refrenced","Number of inventorydata refrenced", "inventorydata refrenced","Inventorydata refrenced","inventorydata refrenced","total inventorydata refrenced","total inventorydata refrenced"],
    response: "profitchart is 4."
  },



{
    keywords: ["Number of Revenuechart refrenced","Number of revenuechart refrenced", "revenuechart refrenced","revenuechart refrenced","revenuechart refrenced","total revenuechart refrenced","total revenuechart refrenced"],
    response: "Revenuechart is 3."
  },


{
    keywords: ["Number of Expensechart refrenced","Number of expancechart refrenced", "expancechart refrenced","expancechart refrenced","expansechart refrenced","total expansechart refrenced","total expansechart refrenced"],
    response: "Expansechart is 1."
  },


{
    keywords: ["Number of Growthchart refrenced","Number of growthchart refrenced", "growthchart refrenced","growthchart refrenced","growthchart refrenced","total growthchart refrenced","total growthchart refrenced"],
    response: "Growthchart is 1."
  },

  
{
    keywords: ["Number of Saledata refrenced","Number of salesdata refrenced", "salesdata refrenced","salesdata refrenced","salesdata refrenced","total salesdata refrenced","total salesdata refrenced"],
    response: "Salesdata is 1."
  },

  {
    keywords: ["which chart is referenced the most", "most referenced chart"],
    response: "ProfitChart is the most referenced chart with 5 references."
  },
  {
    keywords: ["which table is referenced the most", "most referenced table"],
    response: "CustomerData is the most referenced table with 6 references."
  },

{
    keywords: ["Number of Customerdata referencing", "Customerdata referencing","customerdata referencing","total customerdata referencing","total Customerdata referencing"],
    response: "CustomerData is 2."
  },

{
    keywords: ["Number of Employeedata referencing", "Employeedata referencing","employeedata referencing","total employeedatareferencing","total employeedata referencing"],
    response: "Employeedata is 1."
  },
{
    keywords: ["Number of profitchart referencing", "Profitchart referencing","profitchart referencing","total profitchart referencing","total profitchart referencing"],
    response: "profitchart is 1."
  },

{
    keywords: ["Number of Inventorydata referencing","Number of inventorydata referencing", "inventorydata referencing","Inventorydata referencing","inventorydata referencing","total inventorydata referencing","total inventorydata referencing"],
    response: "Inventorydata is 6."
  },



{
    keywords: ["Number of Revenuechart referencing","Number of revenuechart referencing", "revenuechart referencing","revenuechart referencing","revenuechart referencing","total revenuechart referencing","total revenuechart referencing"],
    response: "Revenuechart is 4."
  },


{
    keywords: ["Number of Expensechart referencing","Number of expancechart referencing", "expancechart referencing","expancechart referencing","expansechart referencing","total expansechart referencing","total expansechart referencing"],
    response: "Expansechart is 3."
  },


{
    keywords: ["Number of Growthchart referencing","Number of growthchart referencing", "growthchart referencing","growthchart referencing","growthchart referencing","total growthchart referencing","total growthchart referencing"],
    response: "Growthchart is 1."
  },

  
{
    keywords: ["Number of Salesdata referencing","Number of saleschart referencing", "saleschart referencing","saleschart referencing","saleschart referencing","total saleschart referencing","total saleschartt referencing"],
    response: "Salesdata is 3."
  },

  {
    keywords: ["which chart is referenced the most", "most referenced chart"],
    response: "ProfitChart is the most referenced chart with 5 references."
  },
  {
    keywords: ["which table is referenced the most", "most referenced table"],
    response: "CustomerData is the most referenced table with 6 references."
  },

  {
    keywords: ["which object is referencing the most", "most referencing object"],
    response: "InventoryData is the most referencing object with 6 references."
  },
  {
    keywords: ["which chart is referencing the most", "most referencing chart"],
    response: "RevenueChart is the most referencing chart with 4 references."
  },
  {
    keywords: ["which table is referencing the most", "most referencing table"],
    response: "InventoryData is the most referencing table with 6 references."
  },
  {
    keywords: ["which object has the highest contribution", "top contribution analysis"],
    response: "All 8 objects have equal contribution scores of 1 in Object Contribution Analysis."
  },
  {
    keywords: ["object contribution values", "what are the contribution scores"],
    response: "Each object (CustomerData, EmployeeData, ExpensesChart, GrowthChart, InventoryData, ProfitChart, RevenueChart, SalesData) has a contribution score of 1."
  },
  {
    keywords: ["how many charts are referenced", "referenced charts count"],
    response: "There are 5 charts referenced."
  },
  {
    keywords: ["how many tables are referenced", "referenced tables count"],
    response: "There are 3 tables referenced."
  },
  {
    keywords: ["how many charts are referencing", "referencing charts count"],
    response: "There are 4 charts referencing other objects."
  },
  {
    keywords: ["how many tables are referencing", "referencing tables count"],
    response: "There are 4 tables referencing other objects."
  },
  {
    keywords: ["which objects are referenced only once", "least referenced objects"],
    response: "ExpensesChart, GrowthChart, and SalesData are each referenced only once."
  },
  {
    keywords: ["which objects are referencing only once", "least referencing objects"],
    response: "EmployeeData, GrowthChart, and ProfitChart are each referencing only once."
  },
  {
    keywords: ["object types filter", "can I filter by object types"],
    response: "Yes, you can filter the visuals by object types using the 'Object Types' dropdown."
  },
  {
    keywords: ["object names filter", "can I filter by object names"],
    response: "Yes, you can filter the visuals by specific object names using the 'Object Names' dropdown."
  },
  {
    keywords: ["reports filter", "can I filter by reports"],
    response: "Yes, you can filter by reports using the 'Reports' dropdown."
  },

















  //Model analysis
   {
    keywords: ["total workspaces", "how many workspaces", "no of workspace"],
    response: "There is 1 workspace."
  },
  {
    keywords: ["total datasources", "how many datasources", "no of datasource"],
    response: "There are 8 datasources."
  },
  {
    keywords: ["total reports","Total Reports", "Total Report","how many reports", "no of report","total report"],
    response: "There are 8 reports."
  },
  {
    keywords: ["total tables","Total Tables", "Total Table","how many tables", "no of table","total table"],
    response: "There are 133 tables."
  },
  {
    keywords: ["total relationships","Total relationship", "Total relationship","how many relationship", "no of relationship","total relationship"],
    response: "There are 134 relationships."
  },
  {
    keywords: ["total columns", "how many columns", "no of column"],
    response: "There are 1066 columns."
  },

{
    "keywords": ["which table has most columns", "most columns table"],
    "response": "VW_TimeSheetActuals has the most columns with 57."
  },
  {
    "keywords": ["how many tables are in the model", "total table count"],
    "response": "The model contains 133 tables."
  },
  {
    "keywords": ["how many columns are in the model", "total column count"],
    "response": "The model includes 1,066 columns."
  },
  {
    "keywords": ["how many relationships are in the model", "total relationship count"],
    "response": "The model has 134 relationships."
  },
  {
    "keywords": ["which table has the most relationships", "table with most relationships"],
    "response": "VW_TimeSheetActuals has the most relationships, with 7 connections."
  },
  {
    "keywords": ["how many workspaces are in the model", "total workspace count"],
    "response": "There is 1 workspace in the model."
  },
  {
    "keywords": ["how many reports are in the model", "total report count"],
    "response": "The model contains 8 reports."
  },


  {
    keywords: ["which table has most columns", "most columns table"],
    response: "VW_TimeSheetActual has the most columns with 57."
  },
  {
    keywords: ["second most columns", "next table with most columns"],
    response: "US_Accidents_March has the second most columns with 46."
  },
  {
    keywords: ["how many columns in RunHistoryVersion", "RunHistoryVersion column count"],
    response: "RunHistoryVersion has 22 columns."
  },
  {
    keywords: ["column breakdown", "column count per table"],
    response: "Column Breakdown shows number of columns per table, with VW_TimeSheetActual leading with 57."
  },
  {
    keywords: ["relationship breakdown", "relationship count per table"],
    response: "Relationship Breakdown shows number of relationships per table, with Relationship, ReportPermission, and WorkspacePermission each having 7."
  },
  {
    keywords: ["which tables have 7 relationships", "tables with most relationships"],
    response: "Relationship, ReportPermission, and WorkspacePermission each have 7 relationships."
  },
  {
    keywords: ["which table has 6 relationships", "table with six relationships"],
    response: "Refreshables has 6 relationships."
  },
  {
    keywords: ["which tables have 5 relationships", "tables with five relationships"],
    response: "Several tables including DemandAssignation, Partition, ResourceDemandA, and VisualContainerTable have 5 relationships each."
  },
  {
    keywords: ["which tables have 3 relationships", "three relationship tables"],
    response: "Columns and DataSource each have 3 relationships."
  },
  {
    keywords: ["which table has 4 relationships", "four relationship tables"],
    response: "RunHistoryVersionD has 4 relationships."
  },
  {
    keywords: ["filters available", "dropdown filters", "can I filter reports or tables"],
    response: "Yes, you can filter by Reports and Tables using the dropdowns on the dashboard."
  },
  {
    keywords: ["how to filter reports", "report filter dropdown"],
    response: "Use the 'Reports' dropdown at the top left to filter visualizations by report."
  },
  {
    keywords: ["how to filter tables", "table filter dropdown"],
    response: "Use the 'Tables' dropdown to filter visualizations by table."
  },

  //Report analysis
  {
    keywords: ["number of report pages", "total report pages", "how many report pages","total report page"],
    response: "There are 30 report pages shown in the 'No of Report Page' section."
  },
  {
    keywords: ["number of visual containers","number of visual container" ,"total visual containers","total visual container", "how many visuals","how many visual","no of visual containers","no of visual container"],
    response: "There are 303 visual containers listed in the 'No of Visual Container' section."
  },
  {
    keywords: ["number of files","number of file","how many files", "how many file","total files in report","total files in report","no of file","no of files"],
    response: "The dashboard shows 141 files under 'No of File'."
  },
  {
    keywords: ["container breakdown", "which section has most visuals", "most visual containers by section"],
    response: "'999_Home' section has the most visual containers with a total of 38."
  },
  {
    keywords: ["visual containers in model analysis", "model analysis visuals"],
    response: "The '001_Model Analysis' section contains 26 visual containers."
  },
  {
    keywords: ["visual containers in version analysis", "version analysis visuals"],
    response: "The '006_Version Analysis' section contains 26 visual containers."
  },
  {
    keywords: ["visual containers in impact analysis", "impact analysis visuals"],
    response: "The '003_Impact Analysis' section contains 24 visual containers."
  },
  {
    keywords: ["visual containers in workspace analysis", "workspace analysis visuals"],
    response: "The '007_Workspace Analysis' section contains 24 visual containers."
  },
  {
    keywords: ["how to filter reports", "report filter dropdown"],
    response: "Use the 'Reports' dropdown on the left to filter visualizations by report."
  },
  {
    keywords: ["how to filter pages", "page filter dropdown"],
    response: "Use the 'Pages' dropdown in the middle to filter visualizations by page."
  },

  //Impact analysis
   {
    keywords: ["used columns", "how many used columns","how many used column", "number of used columns","Total Used Columns","total used column","Used columns","no of used column","no of used columns"],
    response: "There are 151 used columns displayed in the 'Used Column' section."
  },
  {
    keywords: ["unused columns", "how many unused columns", "number of unused columns","no of unused column","no of unused columns","total unused columns","total unused column"],
    response: "There are 229 unused columns listed in the 'Unused Column' section."
  },


  {
    keywords: ["column usage breakdown", "used and unused columns by table", "column status analysis"],
    response: "The 'Unused Column Breakdown' shows used and unused columns by dataset such as VW_TimeSheetAct and US_Accidents_Mar."
  },
  {
    keywords: ["used and unused in VW_TimeSheetAct", "VW_TimeSheetAct column status"],
    response: "'VW_TimeSheetAct' has 46 unused and 11 used columns."
  },
  {
    keywords: ["used and unused in US_Accidents_Mar", "US_Accidents_Mar column status"],
    response: "'US_Accidents_Mar' has 46 unused columns and no listed used columns."
  },
  {
    keywords: ["used and unused in Refreshables", "Refreshables column status"],
    response: "'Refreshables' has 12 unused and 8 used columns."
  },
  {
    keywords: ["used and unused in Columns", "Columns table usage"],
    response: "'Columns' has 11 unused and 4 used columns."
  },
  {
    keywords: ["how to filter reports", "report filter dropdown"],
    response: "Use the 'Reports' dropdown on the left to filter the impact analysis by report."
  },

  //Consolidate analysis
   {
    keywords: ["number of reports", "how many reports", "report count","no of report","number of reports","how many report","number of report","no of reports"],
    response: "There are 8 reports listed under 'No of Report'."
  },
  {
    keywords: ["repeat column count", "how many repeated columns", "repeat column number","no of repeat column","total repeat column","number of repeat column","repeated column"],
    response: "There are 151 repeated columns shown under 'Repeat Column No'."
  },
  {
    keywords: ["columns used in containers", "how many columns used in containers", "column container usage","containers used column","used column in container","no of used column in conatiner"],
    response: "303 columns are used in visual containers as shown under 'Column Used In Container'."
  },
  {
    keywords: ["visual container breakdown", "visual containers by report", "which report has most visual containers"],
    response: "The pie chart shows that 'PowerBI Analysis' and 'CrashData' each have the highest number of visual containers, with 130 (42.9%) each."
  },
  {
    keywords: ["visual containers in Netwoven Usage", "Netwoven Usage visual container count"],
    response: "'Netwoven Usage' has 21 visual containers, which is 6.93% of the total."
  },
  {
    keywords: ["visual containers in Refresh History", "Refresh History visual count"],
    response: "'Refresh History' has 2 visual containers, accounting for 0.66% of the total."
  },
  {
    keywords: ["how to filter columns", "column filter dropdown"],
    response: "Use the 'Columns' dropdown on the left to filter the visual container data by column."
  },

  //Measure analysis
   {
    keywords: ["number of measures", "total measures", "how many measures","no of measures","Number of measures","Total measures","How many measures","No of measures"],
    response: "There are 87 measures shown in the 'No of Measure' section."
  },
  {
    keywords: ["number of functions", "total functions", "how many functions","Number of functions","Total functions","How many functions","no of functions","No of functions"],
    response: "There are 25 functions used in the measures as indicated in the 'No of Function' section."
  },
  {
    keywords: ["measure breakdown", "measures by table", "measure distribution"],
    response: "The 'Measure Breakdown' chart shows that the majority of measures (80 or 91.95%) belong to 'VW_TimeSheetAct'."
  },
  {
    keywords: ["measures in VW_TimeSheetAct", "VW_TimeSheetAct measure count"],
    response: "'VW_TimeSheetAct' contains 80 measures, making up 91.95% of all measures."
  },
  {
    keywords: ["measures in KeyMeasures", "KeyMeasures table measures"],
    response: "'KeyMeasures' table contains 3 measures, accounting for 3.45% of the total."
  },
  {
    keywords: ["measures in ResourceDemand", "ResourceDemand table measure count"],
    response: "'ResourceDemand' contains 1 measure (1.15% of the total)."
  },
  {
    keywords: ["measures in ResourceDates", "ResourceDates measure distribution"],
    response: "'ResourceDates' also contributes 3 measures, which is 3.45% of the total."
  },
  {
    keywords: ["how to filter tables", "table filter dropdown"],
    response: "Use the 'Tables' dropdown to filter visualizations by table."
  },
  {
    keywords: ["how to filter reports", "report filter dropdown"],
    response: "Use the 'Reports' dropdown to filter data by specific report."
  },

  //version analysis
   {
    keywords: ["number of workspaces", "how many workspaces", "workspaces count","Total workspaces","total workspaces","Number of workspaces","How many workspaces"],
    response: "There is 1 workspace listed in the 'No of Workspace' section."
  },

{
    keywords: ["number of workspace", "how many workspace", "workspace count","Total workspace","total workspace","Number of workspace","How many workspace"],
    response: "There is 1 workspace listed in the 'No of Workspace' section."
  },


  {
    keywords: ["number of datasources", "how many datasources", "datasources count","total datasources","Number of datasources","How many datasources","Datasources count","Total Datasources"],
    response: "There are 8 datasources listed in the 'No of Datasource' section."
  },

  
  {
    keywords: ["number of datasource", "how many datasource", "datasource count","total datasource","Number of datasource","How many datasource","Datasource count","Total Datasource"],
    response: "There are 8 datasources listed in the 'No of Datasource' section."
  },

  {
    keywords: ["number of reports", "reports count", "how many reports","Number of reports","Reports count","no of reports","No of reports","How many reports"],
    response: "There are 8 reports as indicated under 'No of Report'."
  },


  {
    keywords: ["number of report", "report count", "how many report","Number of report","Report count","no of report","No of report","How many report"],
    response: "There are 8 reports as indicated under 'No of Report'."
  },

  {
    keywords: ["number of tables", "tables count", "how many tables","Number of tables","Tables count","How many tables","No of tables","no of tables"],
    response: "There are 133 tables listed in the 'No of Table' section."
  },

{
    keywords: ["number of table", "table count", "how many table","Number of table","Table count","How many table","No of table","no of table"],
    response: "There are 133 tables listed in the 'No of Table' section."
  },


  {
    keywords: ["number of visual containers", "visual containers count", "how many visual containers","Number of visual containers","Visual containers count","How many visual containers","no of visual containers","No of visual containers","Total Visual containers","total visual containers"],
    response: "There are 303 visual containers listed under 'No of Visual Container'."
  },

{
    keywords: ["number of visual container", "visual container count", "how many visual container","Number of visual container","Visual container count","How many visual container","no of visual container","No of visual container","Total Visual container","total visual container"],
    response: "There are 303 visual containers listed under 'No of Visual Container'."
  },



  {
    keywords: ["number of columns", "columns count", "how many columns","Number of columns","Columns count","How many columns","Total columns","total columns","no of columns","No of columns"],
    response: "There are 1,066 columns shown in the 'No of Column' section."
  },


  {
    keywords: ["number of column", "column count", "how many column","Number of column","Column count","How many column","Total column","total column","no of column","No of column"],
    response: "There are 1,066 columns shown in the 'No of Column' section."
  },


  {
    keywords: ["run history breakdown", "run mode stats", "run mode distribution"],
    response: "The 'RunHistory Breakdown' shows that Extract and Parse each have 7 entries (38.89%), Transform has 2 (11.11%), and Validate has 2 (11.11%)."
  },
  {
    keywords: ["run history details", "object value logs", "object history"],
    response: "The 'RunHistory Detail' lists multiple objects added under the 'VisualContainer' mode, including action buttons and a bar chart."
  },
  {
    keywords: ["run mode history", "completed vs failed runs", "run mode duration"],
    response: "The 'RunMode History' shows 10 minutes of completed and 8 minutes of failed runs in the year 2025."
  },
  {
    keywords: ["how to filter dates", "filter by date", "date dropdown"],
    response: "Use the 'Current Date - Previous Date' dropdown to filter data by date range."
  },
  {
    keywords: ["how to filter run modes", "run mode dropdown"],
    response: "Use the 'Run Modes' dropdown to filter data based on specific run modes."
  },

  //Workspace analysis
  {
    keywords: ["how many workspaces", "workspaces count", "number of workspaces","How many workspaces","Workspaces count","Number of workspaces","no of workspaces","No of workspaces"],
    response: "There is 1 workspace listed under 'No of Workspace'."
  },

{
    keywords: ["how many workspace", "workspace count", "number of workspace","How many workspace","Workspace count","Number of workspace","no of workspace","No of workspace"],
    response: "There is 1 workspace listed under 'No of Workspace'."
  },

  {
    keywords: ["how many users", "users count", "number of users","Total users","total users","Number of users","no of users","How many users"],
    response: "There are 3 users shown under 'No of User'."
  },

  {
    keywords: ["how many user", "user count", "number of user","Total user","total user","Number of user","no of user","How many user"],
    response: "There are 3 users shown under 'No of User'."
  },
  {
    keywords: ["workspace breakdown", "workspace name", "workspace pie chart"],
    response: "The 'Workspace Breakdown' shows that 100% of the data belongs to 'POC - Power BI'."
  },
  {
    keywords: ["workspace roles", "admin vs viewer", "role breakdown"],
    response: "The 'Workspace Role Breakdown' shows 2 Admins and 1 Viewer."
  },
  {
    keywords: ["artifact usage", "artifact type", "dataset usage"],
    response: "The 'Artifact Usage Statistics' shows 8 Datasets used, which accounts for 100% of the artifacts."
  },
  {
    keywords: ["how to filter by workspace", "workspace filter dropdown"],
    response: "Use the 'Workspaces' dropdown to filter visualizations by specific workspace."
  },
  {
    keywords: ["how to filter roles", "role filter dropdown"],
    response: "Use the 'Roles' dropdown to filter visualizations by user roles."
  },
  {
    keywords: ["how to filter users", "user filter dropdown"],
    response: "Use the 'Users' dropdown to filter visualizations by individual users."
  },

  //Premium analysis
  {
    keywords: ["how many roles", "roles count", "number of roles","How many roles","Roles count","Number of roles","Total Roles","total roles","no of roles"],
    response: "There are 24 roles displayed under 'No of Role'."
  },

{
    keywords: ["how many role", "role count", "number of role","How many role","Role count","Number of roel","Total Role","total role","no of role"],
    response: "There are 24 roles displayed under 'No of Role'."
  },


{
    keywords: ["how many users", "users count", "number of users","Total users","total users","Number of users","no of users","How many users"],
    response: "There are 3 users shown under 'No of User'."
  },

  {
    keywords: ["how many user", "user count", "number of user","Total user","total user","Number of user","no of user","How many user"],
    response: "There are 3 users shown under 'No of User'."
  },
  {
    keywords: ["how many groups", "groups count", "number of groups","How many groups","Groups count","Number of groups","Total groups","total groups","Number of groups","no of groups"],
    response: "There are 4 groups shown under 'No of Group'."
  },

  {
    keywords: ["how many group", "group count", "number of group","How many group","Group count","Number of group","Total group","total group","Number of group","no of group"],
    response: "There are 4 groups shown under 'No of Group'."
  },
  {
    keywords: ["role breakdown", "roles pie chart", "percentage of roles"],
    response: "The 'Role Breakdown' pie chart shows an equal distribution: 50% Owner and 50% Read roles."
  },
  {
    keywords: ["report role breakdown", "report vs role", "role per report"],
    response: "The 'Report Breakdown by Role' bar chart shows each report having 2 Owners and 1 Read role assigned."
  },
  {
    keywords: ["how to filter by reports", "report filter dropdown"],
    response: "Use the 'Reports' dropdown to filter visualizations by specific report."
  },
  {
    keywords: ["how to filter by roles", "role filter dropdown"],
    response: "Use the 'Roles' dropdown to filter data based on specific role types."
  },
  {
    keywords: ["how to filter by users", "user filter dropdown"],
    response: "Use the 'Users' dropdown to view permissions for specific users."
  },
  {
    keywords: ["how to filter by groups", "group filter dropdown"],
    response: "Use the 'Groups' dropdown to filter permissions by specific user groups."
  },

  //dataset refresh cycle
   {
    keywords: ["how many total refreshes", "total refresh attempt", "refresh count","How many total refreshes","Total refresh attempt","Refresh count"],
    response: "There have been 41 total refresh attempts as shown in the 'Total Refresh Attempt' panel."
  },
  {
    keywords: ["last refresh type", "most recent refresh type"],
    response: "The most recent refresh type is 'OnDemand' as indicated in the 'Last Refresh Type' box."
  },
  {
    keywords: ["last refresh status", "latest status", "last refresh result"],
    response: "The last refresh status is 'Failed' according to the 'Last Status Refresh' section."
  },
  {
    keywords: ["how many refresh types", "refresh types count"],
    response: "There are 3 distinct refresh types shown in the 'Refresh Types' summary box."
  },
  {
    keywords: ["refresh history", "refresh chart", "refresh status by date"],
    response: "The 'Refresh History' chart displays the number of refreshes per day with status as Completed or Failed."
  },
  {
    keywords: ["refresh log details", "view refresh log", "refresh times"],
    response: "The table on the right shows detailed refresh logs including Report Name, StartTime, EndTime, Status, Type, and Refresh Type."
  },
  {
    keywords: ["how to filter by refresh types", "refresh type filter"],
    response: "Use the 'Refresh Types' dropdown to filter the dashboard data by refresh type."
  },
  {
    keywords: ["how to filter by dates", "date filter dropdown"],
    response: "Use the 'Dates' dropdown to filter visualizations by specific dates."
  },

  //Licenses analysis
    {
    keywords: ["how to filter users", "user filter dropdown"],
    response: "Use the 'Users' dropdown to filter license data based on selected users."
  },
  {
    keywords: ["how to filter by licenses", "license type filter"],
    response: "Use the 'Licenses' dropdown to filter visualizations by license types."
  },
  {
    keywords: ["how to filter by service plans", "service plan filter"],
    response: "Use the 'Service Plans' dropdown to filter the data according to specific service plans."
  },
  {
    keywords: ["license status breakdown", "license distribution", "license success vs pending"],
    response: "The 'License Breakdown' pie chart shows the proportion of licenses with 'Success' and 'PendingProvisioning' statuses."
  },
  {
    keywords: ["total licenses by status", "how many licenses are successful", "pending license count"],
    response: "According to the chart, 3 licenses (75%) are marked as 'Success' and 1 license (25%) as 'PendingProvisioning'."
  },

  //complianse analysis
  {
    keywords: ["how to filter by endorsements", "endorsement dropdown filter"],
    response: "Use the 'Endorsements' dropdown to filter compliance data based on endorsement type."
  },
  {
    keywords: ["how to filter by sensitivity labels", "sensitivity label filter"],
    response: "Use the 'Sensitivity Labels' dropdown to view data by selected sensitivity classifications."
  },
  {
    keywords: ["how to filter by report", "report filter dropdown"],
    response: "Use the 'Reports' dropdown to filter compliance insights specific to individual reports."
  },
  {
    keywords: ["number of endorsements", "endorsement count"],
    response: "The dashboard shows a total of 10 endorsements applied across the reports."
  },
  {
    keywords: ["how many sensitivity labels", "sensitivity label total"],
    response: "The dashboard indicates that there are 10 unique sensitivity labels used."
  },
  {
    keywords: ["number of compliance scans", "scan count"],
    response: "The 'No of Scans' tile reports that 4 compliance scans have been completed."
  },
  {
    keywords: ["first scan result", "initial scan status"],
    response: "The 'First Scan Result' was marked as 'Succeeded'."
  },
  {
    keywords: ["last scan result", "final scan status"],
    response: "The 'Last Scan Result' also shows 'Succeeded', indicating a successful final scan."
  },

  //DLP policy analysis
  {
    keywords: ["how to filter by workload", "workload dropdown filter"],
    response: "Use the 'Workload' dropdown to filter DLP policies by specific workload types."
  },
  {
    keywords: ["how to filter by distribution status", "distribution status dropdown"],
    response: "Use the 'Distribution Status' dropdown to view policies based on their current deployment status."
  },
  {
    keywords: ["how to filter by policy name", "policy name dropdown filter"],
    response: "Use the 'Policy Name' dropdown to view data related to a specific DLP policy."
  },
  {
    keywords: ["how many workloads", "total workload count"],
    response: "The dashboard shows a total of 10 unique workloads associated with DLP policies."
  },
  {
    keywords: ["total number of DLP policies", "dlp policy count"],
    response: "There are 10 DLP policies displayed in the DLP Analysis dashboard."
  },
  {
    keywords: ["dlp policy workload types", "workload type count"],
    response: "The 'No of DLP Policy Workload Type' is reported as 1, suggesting a single unique workload type across DLP policies."
  },
  {
    keywords: ["distribution status count", "number of policy statuses"],
    response: "There are 2 types of distribution statuses across the DLP policies: Active and Pending."
  },
  {
    keywords: ["how many policies are enabled", "enabled mode policy count"],
    response: "According to the 'Policy by Mode distribution' chart, 7 policies are in 'Enable' mode."
  },
  {
    keywords: ["how many policies are disabled", "disabled mode policy count"],
    response: "The 'Policy by Mode distribution' chart indicates that 3 policies are in 'Disable' mode."
  },
  {
    keywords: ["how to read policy details table", "dlp policy details explanation"],
    response: "The 'Policy Details' table shows each policy's name, distribution status, and associated workload platform."
  },

  //AI analysis
   {
    keywords: ["how to filter by report", "report dropdown filter"],
    response: "Use the 'Reports' dropdown to filter the questions based on specific reports."
  },
  {
    keywords: ["how to filter by question", "question dropdown filter"],
    response: "Use the 'Questions' dropdown to view information for a selected question."
  },
  {
    keywords: ["total number of questions", "how many AI questions"],
    response: "The dashboard displays a total of 5 questions under the Artificial Intelligence section."
  },
  {
    keywords: ["total number of categories", "AI category count"],
    response: "There are 5 unique question categories shown in the dashboard."
  },
  {
    keywords: ["what are the AI questions", "list of AI questions"],
    response: "The questions include topics such as Power Query, Data Modeling, Refresh Optimization, Drillthrough, and DAX Functions."
  },
  {
    keywords: ["how to transform columns in Power Query", "column transformation Power BI"],
    response: "Use the question 'How can I transform columns using Power Query?' for guidance on Power Query transformations."
  },
  {
    keywords: ["how to create relationship between tables", "power bi relationships"],
    response: "Refer to the question 'How do I create a relationship between two tables in Power BI?' under the Data Modeling category."
  },
  {
    keywords: ["improve refresh time Power BI", "optimize refresh Power BI"],
    response: "See the question 'How do I improve the refresh time of a large dataset?' categorized under Performance Optimization."
  },
  {
    keywords: ["how to implement drillthrough", "drillthrough in Power BI"],
    response: "Refer to the question 'How to implement drillthrough in Power BI reports?' under the Visualization category."
  },
  {
    keywords: ["difference between CALCULATE and CALCULATETABLE", "DAX functions comparison"],
    response: "The question 'What is the difference between CALCULATE and CALCULATETABLE in DAX?' provides clarity on these DAX functions."
  }
 ];

   function sendMessage() {
  const inputField = document.getElementById("input");
  const userMessage = inputField.value.trim();
  if (!userMessage) return;

  displayMessage(userMessage, "user");

  const botResponse = getBotResponse(userMessage);
  displayMessage(botResponse, "bot");

  inputField.value = "";
  saveChat(); // Save after each interaction
}

function displayMessage(message, sender) {
  const chatbox = document.getElementById("chatbox");
  const messageElem = document.createElement("div");
  messageElem.className = `message ${sender}`;
  messageElem.textContent = `${sender === "user" ? "You" : "Bot"}: ${message}`;
  chatbox.appendChild(messageElem);
  chatbox.scrollTop = chatbox.scrollHeight;
}

function getBotResponse(message) {
  const lowerMessage = message.toLowerCase();
  for (const data of chatbotData) {
    for (const keyword of data.keywords) {
      if (lowerMessage.includes(keyword.toLowerCase())) {
        return data.response;
      }
    }
  }
  return "I'm not sure how to respond to that. Can you rephrase ?";
}

function clearChat() {
  document.getElementById("chatbox").innerHTML = "";
  document.getElementById("input").value = "";
  try {
    localStorage.removeItem("chatHistory");
    sessionStorage.removeItem("chatHistory");
  } catch (e) {
    console.warn("Unable to clear chat storage:", e);
  }
}

// 🔐 Save chat to both localStorage and sessionStorage for persistence
function saveChat() {
  const chatbox = document.getElementById("chatbox").innerHTML;
  try {
    localStorage.setItem("chatHistory", chatbox);
    sessionStorage.setItem("chatHistory", chatbox);
  } catch (e) {
    console.warn("Unable to save chat:", e);
  }
}

// 🔄 Load chat history from localStorage or sessionStorage
function loadChat() {
  const chatbox = document.getElementById("chatbox");
  let savedChat = "";
  try {
    savedChat = localStorage.getItem("chatHistory") || sessionStorage.getItem("chatHistory");
  } catch (e) {
    console.warn("Unable to load chat history:", e);
  }
  if (savedChat) {
    chatbox.innerHTML = savedChat;
    chatbox.scrollTop = chatbox.scrollHeight;
  }
}

// 🚀 Initialize chat on page load
window.addEventListener("load", loadChat);

// ⌨️ Handle Enter key to send message
document.getElementById("input").addEventListener("keydown", function (event) {
  if (event.key === "Enter") {
    event.preventDefault();
    sendMessage();
  }
});




  </script>
</body>
</html>
